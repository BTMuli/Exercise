【问题描述】

​    村里刚刚通网，小芳非常激动，下载了很多文件。她的网络使用情况如下： 在最开始的 T1 分钟内，下载速度是 D1 MB/min；接下来的 T2 分钟内，下载速度是 D2 MB/min；以此类推，最后 TN 分钟内，下载速度是 DN MB/min。 互联网运营商的收费标准是，先免费提供 K 分钟的网络使用，之后每 MB 数据收取 1 元费用。请你算出小芳需要付多少网费。

【输入形式】

​    输入数据的第一行包含一个整数 T，表示测试数据的组数。接下来是 T 组数据。 每组数据的第一行包含两个整数 N 和 K。接下来 N 行，每行包含两个整数 Ti 和 Di，描述了小芳的网络使用状况。

【输出形式】

​    对于每组数据，输出一行，包含一个整数，代表小芳需要付的网费，单位为元

【样例输入】

```
3
2 2
2 1
2 3
2 2
1 2
2 3
3 0
1 2
2 4
10 10
```

【样例输出】

```
6
3
110
```

【样例说明】

​    对于第一组数据，小芳只需要付后 2 分钟的网费，每分钟 3元，共 6元。 

​    对于第二组数据，小芳只需要付最后 1 分钟的网费 3 元。 

​    对于第三组数据，运营商没有提供免费时长，因此小芳需要付 1×2 + 2×4 + 10×10 = 110元。 

【解题思路】

+ 构建数组N[T],K[T],D[T]来存储每组数据
+ 对于每一个N[i]，构建数组T[N[i]],D[N[i]]来存储数据
+ 对于每一组数据，构建函数计算并用M[T]存储结果
+ 函数的主要思路：
  + int S(int T[],int D[],int K,int p),p为数组长度
  + 计算总流量跟免费流量之差



【源代码】（通过样例测试）：

```c++
#include<iostream>
using namespace std;
int S(int T[], int D[],int K,int p);//构建函数计算每一组数据，p为数组长度
int main()
{
    int T;
    cin>>T;
    int N[T], K[T], M[T];//构建数组存储每一组数据
    for (int i = 0;i<T;i++)
    {
        cin>>N[i]>>K[i];
        int T[N[i]], D[N[i]];//对每组数据构建数组
        for (int j = 0;j<N[i];j++)
            cin >> T[j] >> D[j];
        M[i] = S(T, D, K[i], N[i]);
    }
    for(int i = 0; i < T;i++)
        cout << M[i] << endl;
    return 0;
}
int S(int T[],int D[],int K,int p)
{
    int t1, t2, s, j;
    t1 = K;//t1为剩余免费时间
    t2 = s = j = 0;//t2为已用免费流量，j用于判断处理t2
    for (int i = 0; i < p; i++)
    {
        s += (T[i] * D[i]);//s为已用流量
        if((t1-T[i]>=0) && j==0)//若下个时间段大于剩余免费时间
        {
            t1 -= T[i];
            t2 += (T[i] * D[i]);
        }
        else if((t1-T[i])<0 && j==0)//若下个时间段免费时间用尽
        {
            j = 1;
            t2 += (t1 * D[i]);
        }
    }
    s -= t2;
    return s;
}
```



